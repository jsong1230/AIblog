<!-- Cookie Consent Banner -->
<div id="cookie-consent-banner" style="display: none; position: fixed; bottom: 0; left: 0; right: 0; background-color: #333; color: #fff; padding: 20px; z-index: 10000; box-shadow: 0 -2px 10px rgba(0,0,0,0.3);">
    <div class="container" style="max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 15px;">
        <div style="flex: 1; min-width: 250px;">
            <p style="margin: 0; font-size: 14px; line-height: 1.6;">
                이 웹사이트는 쿠키를 사용하여 사용자 경험을 개선하고, Google AdSense를 통해 맞춤형 광고를 제공합니다. 
                계속 사용하시면 쿠키 사용에 동의하는 것으로 간주됩니다.
                <a href="/privacy-policy" style="color: #4CAF50; text-decoration: underline;">개인정보 처리방침</a>을 확인하세요.
            </p>
        </div>
        <div style="display: flex; gap: 10px;">
            <button id="cookie-accept" style="background-color: #4CAF50; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: bold;">
                동의
            </button>
            <button id="cookie-decline" style="background-color: #666; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-size: 14px;">
                거부
            </button>
        </div>
    </div>
</div>

<script>
(function() {
    // 쿠키 동의 상태 확인
    function getCookie(name) {
        const value = "; " + document.cookie;
        const parts = value.split("; " + name + "=");
        if (parts.length === 2) return parts.pop().split(";").shift();
        return null;
    }

    function setCookie(name, value, days) {
        const date = new Date();
        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
        const expires = "expires=" + date.toUTCString();
        document.cookie = name + "=" + value + ";" + expires + ";path=/;SameSite=Lax";
    }

    // 동의 상태 확인
    const consent = getCookie('cookie_consent');
    const banner = document.getElementById('cookie-consent-banner');

    if (!consent && banner) {
        banner.style.display = 'block';

        // 동의 버튼
        document.getElementById('cookie-accept').addEventListener('click', function() {
            setCookie('cookie_consent', 'accepted', 365);
            banner.style.display = 'none';
            // AdSense 활성화 (이미 head에 있으면 자동으로 작동)
        });

        // 거부 버튼
        document.getElementById('cookie-decline').addEventListener('click', function() {
            setCookie('cookie_consent', 'declined', 365);
            banner.style.display = 'none';
            // AdSense 비활성화는 별도 처리 필요
        });
    }
})();
</script>

